<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="s_continuous" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Continuity</title>
<objectives>
    <ol>
        <li>
            <p>
                Define continuity of a function at a point and on an interval. 
            </p>
        </li>
        <li>
            <p>
                Analyzing continuity at a point graphically and analytically (using limits).
            </p>
        </li>

        <li>
            <p>
                Understand how the continuity property is preserved under familiar function operations, including composition. Show that all algebraic functions are continuous at every point in their domain. 
            </p>
        </li>
        <li>
            <p>
                Argue using the intermediate value theorem that a function achieves a given value, and that a given equation has a solution in a specified interval.
            </p>
        </li>
    </ol>
</objectives>
    <introduction><p>
        In this section we explore the notion of continuity of a function. The definition of continuity is most clearly stated in terms of limits: a function <m>f</m> is continuous at a point <m>a</m> in its domain if its limit <m>\lim\limits_{x\to a}f(x)</m> exists there and is equal to its value <m>f(a)</m>. Graphically, this means, roughly speaking that the graph of <m>f</m> has no untoward behavior at <m>a</m>: <eg/>, there are no jumps or asymptotes at <m>a</m>, nor any wild oscillations near <m>a</m>. As we will see, the property of being continuous at points has many important and useful consequences, including the famous <xref ref="th_ivt" text="title"/>. 
    </p></introduction>
    <subsection xml:id="ss_cont">
    <title>Continuous functions</title>
    
    
    <p>
        Before getting to the official definition of a continuity, we quickly indulge in some technicalities around the notions of interior points and endpoints of domains. 
    </p>

    <definition xml:id="d_interior_endpoint">
        <title>Interior points and endpoints</title>
        <statement>
            <p>
                Let <m>f</m> be a function with domain <m>D</m>.
                <ul>
                    <li>
                        <title>Interior point</title>

                        <p>
                            An element  <m>a\in D</m> is an <term>interior point</term> of <m>D</m> if <m>D</m> contains an open interval that contains <m>a</m>: <ie/>, <m>a\in (c,d)</m> and <m>(c,d)\subseteq D</m>.
                        </p>
                    </li>

                    <li>
                        <title>Endpoints</title>

                        <p>
                            An element <m>a\in D</m> is a <term>left endpoint</term> of <m>D</m> if it is not an interior point of <m>D</m> and <m>D</m> contains an interval of the form <m>[a,d)</m>.
                        </p>

                        <p>
                            An element <m>a\in D</m> is a <term>right endpoint</term> of <m>D</m> if it is not an interior point of <m>D</m> and <m>D</m> contains an interval of the form <m>(c,a]</m>.
                            with <m>a\in (c,d)</m>.
                        </p>

                        <p>
                            An element <m>a\in D</m> is an <term>endpoint</term> of <m>D</m> if it is either left or right endpoint.
                        </p>
                    </li>
                </ul>
            </p>
        </statement>
    </definition>

    <definition xml:id="d_continuity">
        <title>Continuity</title>
        <statement>
            <p>
                Let <m>f</m> be a function with domain <m>D</m>, and suppose <m>a\in D</m> is either an interior point or an endpoint of <m>D</m>.
                The function <m>f</m> is <term>continuous at <m>a</m></term> if the limit of <m>f</m> at <m>a</m> exists and is equal to the value of <m>f</m> at <m>a</m>: <ie/>, if
                <ol marker="(i)">
                    <li>
                        <p>
                            <m>\lim\limits_{x\to a}f(x)</m> exists, and
                        </p>
                    </li>

                    <li>
                        <p>
                            <m>\lim\limits_{x\to a}f(x)=f(a)</m>.
                        </p>
                    </li>
                </ol>
                The function <m>f</m> is <term>discontinuous</term> at <m>a</m> if it is not continuous there.
            </p>
            <p>
                For a subset <m>I\subseteq D</m>, we say <m>f</m> is <term>continuous on <m>I</m></term> if <m>f</m> is continuous at all interior or endpoint points of <m>D</m> lying in <m>I</m>. We say <m>f</m> is <term>continuous</term> if it is continuous on its entire domain.  
            </p>
        </statement>
    </definition>

    <remark>
        <title>Continuity at <m>a</m></title>

        <p>
            Let <m>f</m> be a function with domain <m>D</m>.
            Observe that our definition of continuity (and discontinuity) only applies to elements of the domain.
            (In fact, it only applies to elements of the domain that are either interior points or endpoints.)
        </p>

        <p>
            For example, consider the function <m>f(x)=1/x</m> with domain
            <me>
                D=\R-\{0\}=(-\infty, 0)\cup (0,\infty)
            </me>.
            Since <m>0</m> is not an element of the domain of <m>f</m>, we do not say that <m>f</m> is continuous or discontinuous at <m>0</m>.
        </p>
    </remark>

    <remark>
        <title>Endpoints</title>

        <p>
            Let <m>f</m> be a function with domain <m>D</m>, and let <m>a\in D</m> be a right endpoint of <m>D</m>.
            Since by definition <m>D</m> contains an interval of the form <m>(c,a]</m> but not a full open interval containing <m>a</m>, we are in a situation where only the left limit of <m>f</m> is defined at <m>a</m>.
            Recall (<xref ref="d_limit_extended"/>) that we define
            <me>
                \lim_{x\to a}f(x)=\lim_{x\to a^-}f(x)
            </me>
            in this case.
            A similar remark applies to left endpoints of <m>D</m>.
        </p>
    </remark>

    <example xml:id="eg_cont_endpoint">
        <title>Continuity at endpoint</title>

        <statement>
            <p>
                Let <m>f(x)=\sqrt{x}</m>, with domain <m>D=[0,\infty)</m>.
                Decide whether <m>f</m> is continuous at <m>0</m>.
            </p>
        </statement>

        <solution>
            <p>
                First observe that since <m>0</m> is a left endpoint of <m>D</m>, we define
                <me>
                    \lim_{x\to 0}f(x)=\lim_{x\to 0^+}f(x)
                </me>.
                We compute
                <md>
                    <mrow>\lim_{x\to 0^+}f(x) \amp \lim_{x\to 0^+}\sqrt{x} </mrow>
                    <mrow> \amp \sqrt{\lim_{x\to 0^+}x} \amp \text{(root rule)}</mrow>
                    <mrow> \amp = \sqrt{0} \amp \text{(poly. eval.)}</mrow>
                    <mrow> \amp = 0</mrow>
                </md>.
                Thus <m>\lim\limits_{x\to 0}f(x)</m> exists and is equal to 0.
                Since <m>f(0)=\sqrt{0}=0</m>, we see further that
                <me>
                    \lim_{x\to 0^+}f(x)=\lim_{x\to 0^+}f(x)=f(0)=0
                </me>
                and thus that <m>f</m> is continuous at <m>0</m>.
            </p>
        </solution>
    </example>
    <remark>
        <title>Continuity: graphical</title>
        <p>
            When scanning the graph of a function <m>f</m> for points of continuity or discontinuity, we look for <q>problem points</q>. These are locations on the graph where either (a) the limit of the function appears not to exist, or (b) where the limit does exist but does not agree with the value of the function. 
        </p>
        <p>
            A well-loved adage in this regard is the phrase <q>a continuous function is one whose graph can be traced without lifting the pencil</q>. This is cute, and helpful for guidance, but should not be taken too literally. Indeed, there are some pretty wacky continuous functions out there. For example, the function 
            <me>
                f(x)=\begin{cases}
                x\sin(1/x)\amp \text{if } x&gt; 0\\
                0 \amp \text{if } x=0
                \end{cases}
            </me>
            is continuous everywhere on its domain, and yet there are some peculiar properties of its graph that make it unclear it what sense it could be <q>traced by a pencil</q>. (Not having defined the sine function yet, we have gotten a little ahead of ourselves. The reader is invited to graph the function above using technology.)
        </p>
        
    </remark>
    <example xml:id="eg_cont_graph">
        <title>Continuity: graphical</title>

        <statement>
            <p>
                For the function <m>f</m> whose graph is given below, find all points of discontinuity and explain what conditions of <xref ref="d_continuity"/> fail to attain.
                Make use of some of the following descriptors of discontinuities: <q>jump</q>, <q>removeable</q>, <q>oscillating</q>, <q>infinite</q>.
            </p>

            <figure xml:id="fig_cont_graph">
                <caption>Graph of function <m>f</m></caption>
                <image width="70%">
                    <shortdescription>
                        Graph of complicated function
                    </shortdescription>
                    <latex-image>
           \begin{tikzpicture}
          %\draw[very thin,color=lightgray] (-3.2,-4.1) grid (6.2,4.1);
          \draw[->] (-3.2,0) -- (4.2,0) node[right] {$x$};
          \draw[->] (-2,-2.2) -- (-2,4.2) node[above] {$y$};
          \draw[-,color=blue,smooth,domain=-3:-1.16] plot ({\x},{\x/(20*pow({\x+1},2))});
          \draw[-,color=blue, smooth,domain=-0.86:0] plot ({\x},{\x/(20*pow({\x+1},2))});
          \fill[color=blue] (0,0) circle (0.05cm);
          \draw[color=blue] (0,1) circle (0.05cm);
          \draw[-,color=blue,smooth,domain=0.02:1] plot ({\x},{2*sin(1.5708*\x r)+1});
          \fill[color=blue] (1,3) circle (0.05cm);
          \draw[-,color=blue,smooth,domain=1.05:1.95,samples=2000] plot ({\x},{3+sin(pow((1/(\x-1)),1.5) r)});
          \draw[-,color=blue,smooth,domain=2.05:4.1,samples=2000] plot ({\x},{3+sin(pow((1/(\x-1)),1.5) r)});
          \draw[color=blue] (2,{3+sin(pow((1/1),1.5) r)}) circle (0.05cm);
          \draw[-] (-1,-0.1) -- (-1,0.1) node[above] {$a$};
          \draw[dashed] (-1,0) -- (-1,-2);
          \draw[-] (0,-0.1) node[below] {$b$} -- (0,0.1);
          \draw[dashed] (0,0) -- (0,0.95);
          \draw[dashed] (-2,2) node[left] {$B$} -- (0.3398,{2*sin(1.5708*0.3398 r)+1});
          \draw[dashed] (-2,1) node[left] {$A$} -- (-0.05,1);
          \draw[dashed] (0.3398,0) -- (0.3398,{2*sin(1.5708*0.3398 r)+1});
          \draw[-] (0.3398,-0.1) node[below] {$c$} -- (0.3398,0.1) ;
          \draw[-] (1,-0.1) -- (1,0.1) node[below] {$d$};
          \draw[dashed] (-2,3) node[left] {$C$} -- (1,3);
          \draw[dashed] (1,0) -- (1,3);
          \draw[dashed] (-2,{3+sin(pow((1/1),1.5) r)}) node[left] {$D$} -- (1.95,{3+sin(pow((1/1),1.5) r)});
          \draw[dashed,color=black] (2,0) -- (2,{2.95+sin(pow((1/1),1.5) r)});
          \fill[color=blue] (2,{3.5+sin(pow((1/1),1.5) r)}) circle (0.05cm);
          \draw[-] (2,-0.1) node[below] {$e$} -- (2,0.1);
          \node at (3.5,2.6) {$y=f(x)$};
      \end{tikzpicture}
                    </latex-image>
                </image>
            </figure>
        </statement>

        <solution>
            <p>
                Note that we do not speak of <m>f</m> being continuous or discontinuous at <m>a</m>, as this is not an element of the domain of <m>f</m>.
            </p>
            <p>
                The limit of <m>f</m> at <m>b</m> does not exist, since the left limit does not equal the right limit (<xref ref="th_limit_left_right" text="global"/>). Thus (i) of <xref ref="d_continuity"/> fails, and <m>f</m> is not continuous at <m>b</m>. Such a discontinuity is called a <term>jump discontinuity</term>, as the difference between the left- and right-hand limit values is manifested graphically as a discrete jump in the height of the graph of <m>f</m>. 
            </p>
            <p>
                The limit of <m>f</m> at <m>c</m> exists, and is equal to the value of <m>f</m> at <m>c</m>: that is, we have 
                <me>\lim\limits_{x\to c}f(x)=f(c)=B</me>.
                Thus (i) and (ii) of <xref ref="d_continuity"/> are satisfied, and <m>f</m> is continuous at <m>c</m>. 
            </p>
            <p>
                The limit of <m>f</m> at <m>d</m> does not exist, since the right-hand limit does not exist. Thus (i) of <xref ref="d_continuity"/> fails, and <m>f</m> is not continuous at <m>d</m>. Such a discontinuity is called an <term>oscillating discontinuity</term>, as the wild oscillation is the reason why the limit does not exist. 
            </p>
            <p>
                The limit of <m>f</m> exists at <m>e</m>, but is not equal to the value of <m>f</m> at <m>e</m>. In more detail, we have 
                <me>
                    \lim\limits_{x\to e}f(x)=D&lt; f(e)
                </me>.
                Thus <m>f</m> is not continuous at <m>e</m>. Such a discontinuity is called a <term>removeable discontinuity</term> as a simple redefining of <m>f</m> at <m>e</m> (<ie/>, setting <m>f(e)=D</m>) would make the discontinuity disappear.
            </p>
        </solution>
    </example>
    <example xml:id="eg_cont_on_domain">
        <title>Continuous everywhere</title>
        <statement>
            <p>
                Let <m>\displaystyle f(x)=\frac{x}{\sqrt{x^2-1}}</m>. Prove, using <xref ref="d_continuity"/> that <m>f</m> is continuous. 
            </p>
        </statement>
        <solution>
            <p>
                Let <m>a</m> be any interior element in the implied domain of <m>f</m>. By definition of this domain, this means <m>a^2-1&gt; 0</m>. It follows that 
                <md>
                    <mrow>\lim_{x\to a}f(x) \amp =\lim_{x\to a}\frac{x}{\sqrt{x^2-1}}</mrow>
                    <mrow> \amp =\frac{\lim_{x\to a}x}{\lim_{x\to a}\sqrt{x^2-1}}</mrow>
                    <mrow> \amp =\frac{a}{\sqrt{\lim_{x\to a}x^2-1}}</mrow>
                    <mrow> \amp = \frac{a}{\sqrt{a^2-1}}</mrow>
                    <mrow> \amp = f(a)</mrow>
                </md>. 
                This computation shows both that (i) <m>\lim\limits_{x\to a}f(x)</m> exists, and (ii) <m>\lim\limits_{x\to a}f(x)=f(a)</m>, and thus by <xref ref="d_continuity"/>, that <m>f</m> is continuous at <m>a</m>. Since <m>a</m> was an arbitrary element of the domain of <m>f</m>, we conclude that <m>f</m> is continuous at all points of its domain, and hence continuous. 
            </p>
        </solution>
    </example>
    <p>
        Next we state some theorems that facilitate our (non-graphical) analysis of continuity for a given function. The first result establishes the continuity of some familiar families, proving us with a basic collection of continuous functions. 
    </p>
    <theorem xml:id="th_cont_poly_rational">
        <title>Continuous functions</title>
        <statement>
            <p>
                <ol>
                    
                    <li>
                        <title>Absolute value</title>
                        <p>
                            The function <m>f(x)=\abs{x}</m> is continuous everywhere on its domain. In other words, the absolute value function is a continuous function. 
                        </p>
                    </li>
               
               
                    <li>
                        <title>Polynomials and rational functions</title>
                        <p>
                            If <m>f</m> is either a polynomial or a rational function, then <m>f</m> is continuous everywhere on its domain. In other words, polynomials and rational functions are continuous functions. 
                        </p>
                    </li>
                </ol>
            </p>
        </statement>
        <proof>
            
            <p>
                <ol>
                    <li>
                        <p>
                            This is a direct consequence of <xref ref="d_continuity"/> and <xref ref="th_abs_lim_rule"/>.    
                        </p>
                    </li>
                    <li>
                        <p>
                            This is a direct consequence of <xref ref="d_continuity"/> and <xref ref="th_poly_rational_eval"/>.    
                        </p>
                    </li>
                  
                </ol>
               
            </p>
        </proof>
    </theorem>
    <p>
        By contrast, our next two theorems give us rules for building new continuous functions out of old ones, allowing us to build up our collection of continuous functions. 
    </p>
    
    <theorem xml:id="th_cont_rules">
        <title>Continuity rules</title>
        <statement>
            <p>
                Assume <m>f</m> and <m>g</m> are both continuous at the point <m>a</m>. 
            <ol>
                <li>
                    <title>Linear combination</title>
                    <p>
                       For all constants <m>c,d\in \R</m>, the function <m>h(x)=cf(x)+g(x)</m> is continuous at <m>a</m>.  
                    </p>
                </li>
                <li>
                    <title>Product</title>
                    <p>
                       The function <m>h(x)=f(x)g(x)</m> is continuous at <m>a</m>.  
                    </p>
                </li>
                <li>
                    <title>Quotient</title>
                    <p>
                       Assume further that <m>g(a)\ne 0</m>. The function <m>h(x)=f(x)/g(x)</m> is continuous at <m>a</m>.  
                    </p>
                </li>
                <li>
                    <title>Power</title>
                    <p>
                       Let <m>n</m> be a positive integer. The function <m>h(x)=[f(x)]^n</m> is continuous at <m>a</m>.  
                    </p>
                </li>
                <li>
                    <title>Root rule</title>
                    <p>
                     Let <m>n</m> be a positive integer. If <m>n</m> is even, assume further that <m>f(a)\geq 0</m>. The function <m>h(x)=\sqrt[n]{f(x)}</m> is continuous at <m>a</m>. 
                    </p>
                </li>
            </ol>
            </p>
        </statement>
    </theorem>
    <theorem xml:id="th_cont_comp">
        <title>Continuity composition rule</title>
        <statement>
            <p>
                Assume <m>f</m> and <m>g</m> are functions, and suppose the range of <m>g</m> is a subset of the domain of <m>f</m>. If <m>\lim\limits_{x\to a}g(x)=b</m>, and if <m>f</m> is continuous at <m>b</m>, then <m>\lim\limits_{x\to a}f(g(x))=f(b)</m>.  
            </p>
            <p>
                It follows that if <m>g</m> is continuous at <m>a</m>, then the composition <m>f\circ g</m> is continuous at <m>a</m>. 
            </p>
        </statement>
    </theorem>
    <p>
        Whereas <xref ref="th_cont_poly_rational"/> establishes the continuity of some basic families of functions, <xref ref="th_cont_rules"/> and <xref ref="th_cont_comp"/> tell us that continuity is preserved by all of our familiar function operations (sum, product, quotient, composition, etc.)! As a result, just about any function we build from our starting collection of polynomials and rational functions, is continuous on its entire domain. Since the set family of functions that can be build up from polynomials in this way is precisely the set of <em>algebraic functions</em>, we conclude that all algebraic functions are continuous! 
    </p>
    <theorem xml:id="th_alg_func_cont">
    <title>Algebraic functions are continuous</title>
    <statement>
    <p>
    All algebraic functions are continuous. In more detail, if <m>f</m> is an algebraic function with domain <m>D</m>, then <m>f</m> is continuous at all interior points and endpoints of <m>D</m>. 
    </p>
    </statement>
    </theorem>
    <p>
        By definition of continuity, <m>f</m> is continuous at <m>a</m> if and only if <m>\lim\limits_{x\to a}f(x)=f(a)</m>. Now that we know that any algebraic functions is continuous everywhere on their domain, we obtain a sort of super-powered evaluation formula generalizing <xref ref="th_poly_rational_eval"/>: namely, the algebraic evaluation formula. 
    </p>
    <theorem xml:id="th_alg_func_eval">
    <title>Algebraic function evaluation</title>
    <statement>
    <p>
    If <m>f</m> is an algebraic function with domain <m>D</m>, then 
    <men xml:id="eq_alg_func_eval">
        \lim\limits_{x\to a}f(x)=f(a)
    </men>
    for all <m>a\in D</m>. 
    </p>
    </statement>
    </theorem>
    <p>
        As a result of <xref ref="th_alg_func_eval"/> most of the ``easy" limit computations (<ie/>, limit computations that do not require algebra) we considered in <xref ref="s_lim_rules"/> now become <em>extremely</em> easy, as long as the function <m>f</m> in question is algebraic, and the limit point <m>a</m> is in that function's domain. Do be careful of that last restriction, however. If <m>a</m> is not in the domain of <m>f</m>, then we cannot use <xref ref="th_alg_func_eval"/>, and probably need to resort to algebraic techniques.   
    </p>
    <example xml:id="eg_alg_func_eval">
    <title>Algebraic function evaluation</title>
    <statement>
    <p>
    Let <m>f(x)=\frac{\sqrt{x-1}-3}{x-10}</m>. Compute the following limits. 
    <ol>
        <li>
            <p>
                <m>\lim\limits_{x\to 2}f(x)</m>
            </p>
        </li>
        <li>
            <p>
                <m>\lim\limits_{x\to 10}f(x)</m>
            </p>
        </li>
    </ol>
    </p>
    </statement>
    <solution>
    <p>
        We first observe that <m>f</m> is algebraic, with domain
        <me>
            D=\{x\in \R\mid x\geq 1 \text{ and } x\ne 10\}=[1,10)\cup (10,\infty)
        </me>.
    <ol>
        <li>
            <p>
              Since <m>f</m> is algebraic and <m>2\in D</m>, we may use <xref ref="th_alg_func_eval"/> to compute 
              <md>
                <mrow>\lim\limits_{x\to 2}f(x) \amp = f(2) \amp (\text{alg. eval.})
                </mrow>
                <mrow> \amp = \frac{\sqrt{2-1}-3}{2-10}</mrow>
                <mrow> \amp = \frac{-2}{-8}</mrow>
                <mrow> \amp =\frac{1}{4}</mrow>
              </md>.
            </p>
        </li>
        <li>
            <p>
                Note that <m>10\notin D</m>, and thus we cannot use <xref ref="th_alg_func_eval"/>. As usual we resort to some algebra: 
                <md>
                    <mrow>\lim\limits_{x\to 10}\frac{\sqrt{x-1}-3}{x-10} \amp= \lim\limits_{x\to 10}\frac{(x-1)-9}{(x-10)(\sqrt{x-1}+3)} </mrow>
                    <mrow> \amp= \lim\limits_{x\to 10}\frac{(x-10)}{(x-10)(\sqrt{x-1}+3)} </mrow>
                    <mrow> \amp= \lim\limits_{x\to 10}\frac{1}{\sqrt{x-1}+3} </mrow>
                    <mrow> \amp= \frac{1}{\sqrt{10-1}+3} \amp (\text{alg. eval.}) </mrow>
                    <mrow> \amp= \frac{1}{6} </mrow>
                </md>.
            </p>
        </li>
    </ol>
    </p>
    </solution>
    </example>
    <p>
        In light of <xref ref="th_alg_func_cont"/>, we see that it is actually somewhat difficult to write down a discontinuous function! Piecewise-defined functions give us an easy way of getting around this issue, providing us with a useful source of functions that potentially have discontinuities. Of course, being defined in a piecewise manner does not guarantee the existence of a continuity; consider for the example the absolute value function <m>f(x)=\abs{x}</m>, which is continuous, but defined piecewise as 
        <me>
            \abs{x}=\begin{cases}
            x \amp x\geq 0\\
            -x \amp x&lt; 0
            \end{cases}
        </me>.
        The example below illustrates in general how we determine whether a piecewise-defined function is continuous at various inputs. 
    </p>
    <example xml:id="eg_cont_piecewise">
    <title>Continuity: piecewise</title>
    <statement>
        <p>
            Let <m>f\colon \R\rightarrow \R</m> be defined as 
            <me>
                f(x)=\begin{cases}
                c^2x \amp \text{if } x&lt; 1\\
                3cx-2 \amp \text{if } x\geq 1
                \end{cases}
            </me>,
            where <m>c\in \R</m> is a fixed constant. 
            <ol>
                <li>
                    <p>
                        Argue that <m>f</m> is continuous at all inputs <m>a\ne 1</m>.
                    </p>
                </li>
                <li>
                    <p>
                        Find all values of <m>c</m> for which <m>f</m> is continuous at the input <m>1</m>, and hence everywhere. 
                    </p>
                </li>
            </ol>
            
        </p>
    </statement>
    <solution>
        <p>
            <ol>
                <li>
                    <p>
                        Take any <m>a\in \R</m> with <m>a\ne 1</m>. 
                    </p>
                    <p>
                        If <m>a&lt; 1</m>, then <m>f(x)=cx^2</m> for inputs near <m>a</m>. Since <m>g(x)=cx^2</m> is a polynomial, and since polynomials are continuous on their domain, it follows that <m>f</m> is continuous at <m>a</m>. 
                    </p>
                    <p>
                        Similarly, if <m>a\geq 1</m>, then <m>f(x)=3cx-2</m> for inputs <m>x</m> near <m>a</m>. Again since <m>h(x)=3cx-2</m> is a polynomial, it is continuous at all such inputs, and hence also at <m>a</m>. 
                    </p>
                    <p>
                        This shows that <m>f</m> is continuous at <m>a</m> for all <m>a\ne 1</m>, no matter what the value of <m>c</m>. 
                    </p>
                </li>
                <li>
                    <p>
                        We use the definition of continuity to see what <m>c</m> must satisfy for <m>f</m> to be differentiable at <m>1</m>. Namely, this is true if and only if 
                        <ol marker="(i)">
                            <li>
                                <p>
                                    <m>\lim\limits_{x\to 1}f(x)</m> exists, and further
                                </p>
                            </li>
                            <li>
                                <p>
                                    <m>\lim\limits_{x\to 1}f(x)=f(1)</m> 
                                </p>
                            </li>
                        </ol>
                        Condition (i) holds if and only if <m>\lim\limits_{x\to 1^-}f(x)=\lim\limits_{x\to 1^-}f(x)</m>. We compute both one-sided limits:
                        <md>
                            <mrow>\lim\limits_{x\to 1^-}f(x) \amp = \lim\limits_{x\to 1^-}c^2x \amp (\text{def., } x&lt; 1)</mrow>
                            <mrow> \amp c^2 \amp \text{(poly. eval.)} </mrow>
                            <mrow>\lim\limits_{x\to 1^+}f(x) \amp = \lim\limits_{x\to 1^+}3cx-2 \amp (\text{def., } x&gt; 1)</mrow>
                            <mrow> \amp 3c-2\amp \text{(poly. eval.)} </mrow>
                        </md>.
                        We see that (i) is satisfied if and only if <m>c^2=3c-2</m>, or 
                        <me>
                            c^2-3c+2=0
                        </me>,
                        which is true if and only if <m>c=1</m> or <m>c=2</m>. 
                    </p>
                    <p>
                        It remains to determine which choices of <m>c</m> guarantee condition (ii). We claim that both work: indeed, since both <m>c=1</m> and <m>c=2</m> guarantee that <m>\lim\limits_{x\to 1 }f(x)=c^2=3c-2</m>, and since <m>f(1)=3c-2</m> using the piecewise definition, we conclude that for both choices of <m>c</m> we have <m>\lim\limits_{x\to 1}f(x)=f(1)=3c-2</m>, as desired. 
                    </p>
                </li>
            </ol>
        The figure below shows the resulting graph for <m>f</m>, taking <m>c=1</m> and <m>c=2</m>. You can think of condition (i) as guaranteeing that our two linear segments join up correctly at <m>x=1</m>. 
        
        </p>
        <figure xml:id="fig_f_piecewise">
            <caption>Graphs of <m>f</m>: <m>c=1</m> and <m>c=2</m></caption>
            <sidebyside valigns="middle middle">
                <figure xml:id="fig_f_c1">
                    <caption><m>c=1</m></caption>
                    <image xml:id="im_f_piecewise_c1">
                        <shortdescription>Graph of piecewise-defined function</shortdescription>
                        <sageplot>
                        f=plot(x,x,-1,1)
                        g=plot(3*x-2, x,1,3)
                        f+g
                        </sageplot>
                    </image>
                </figure>
                <figure xml:id="fig_f_c2">
                    <caption><m>c=2</m></caption>
                    <image xml:id="im_f_piecewise_c2">
                        <shortdescription>Graph of piecewise-defined function</shortdescription>
                        <sageplot>
                        f=plot(4*x,x,-1,1)
                        g=plot(6*x-2, x,1,3, ymax=6)
                        f+g
                        </sageplot>
                    </image>
                </figure>
            </sidebyside>
        </figure>
    </solution>
        
    </example>
</subsection>
<subsection xml:id="ss_ivt">
<title>Intermediate value theorem</title>
<p>
        Recall the cute informal description of a continuous function as one whose graph can be traced without lifting your pencil. This can be further interpreted as saying that as we trace a segment of the graph lying over some interval in the <m>x</m>-axis, it should not be possible to <q>skip</q> over a particular <m>y</m>-value. Indeed, to skip this value, we would have to lift our pencil. This seems plausible, starting from our cutesy informal description of continuity, but can we prove it rigorously? Yes, we can as witnessed by the <xref ref="th_ivt" text="custom">intermediate value theorem</xref>.  
    </p>
    <theorem xml:id="th_ivt">
        <title>Intermediate value theorem (IVT)</title>
        <statement>
            <p>
                Let <m>f</m> be continuous on the closed interval <m>[a,b]</m>. If <m>f(a)\ne f(b)</m>, then given any value <m>d\in \R</m> lying strictly between <m>f(a)</m> and <m>f(b)</m>, there is an element <m>c\in (a,b)</m> such that <m>f(c)=d</m>. 
            </p>
        </statement>
    </theorem>
    <remark xml:id="rm_IVT_solutions">
        <title>IVT and existence of solutions</title>
        <p>
            A common application of the IVT is to prove that an equation of the form <m>f(x)=d</m> has a solution in a given open interval <m>(a,b)</m>. Indeed, if <m>f</m> is continuous on <m>[a,b]</m>, and if <m>d</m> lies strictly between <m>f(a)</m> and <m>f(b)</m>, then the IVT guarantees the existence of an element <m>c\in (a,b)</m> satisfying <m>f(c)=d</m>.  
        </p>
        <p>
            Interestingly, however, this method does not actually <em>provide</em> the solution <m>c</m>; it only tells us that it exists. This is probably the first time you have encountered what is called a <q>nonconstructive proof</q> in mathematics. The theorem tells us that the value <m>c</m> exists (assuming the necessary conditions hold), but does not explicitly tell us what <m>c</m> is. 
        </p>
    </remark>
    <example xml:id="eg_ivt_sine">
        <title>Sine equation</title>
        <statement>
            <p>
                Prove that the equation <m>\sin x=\frac{7}{8}</m> has a solution that lies in the interval <m>(\pi/6, \pi/2)</m>. 
            </p>
        </statement>
        <solution>
            <p>
                Note that <m>\sin</m> is continuous on <m>[\pi/6, \pi/2]</m>, and that
                <md>
                    <mrow>\sin(\pi/6) \amp = \frac{1}{2}</mrow>
                    <mrow>\sin(\pi/2) \amp = 1</mrow>
                </md>.
                Since <m>\frac{1}{2}&lt; \frac{7}{8}&lt; 1</m>, 
                the IVT implies that for every there is an input <m>c\in (\pi/6, \pi/2)</m> such that <m>f(c)=7/8</m>. In other words, the given equation has a solution lying in the interval <m>(\pi/6, \pi/2)</m>. 
            </p>
        </solution>
    </example>
    <example xml:id="eg_ivt_poly">
        <title>Roots of polynomials</title>
        <statement>
            <p>
                Show that the polynomial <m>f(x)=x^5-x+1</m> has a root. 
            </p>
        </statement>
        <solution>
            <p>
                A root of <m>f</m> is an input <m>c</m> satisfying <m>f(c)=0</m>. Since <m>f</m> is continuous everywhere, the IVT will guarantee the existence of such a <m>c</m> as long as we can find inputs <m>a</m>, <m>b</m> satisfying <m>f(a)&gt; 0</m> and <m>f(b)&lt; 0</m>. Let's make a table of values of <m>f</m> for small inputs <m>x</m>: 
                <me>
                    \begin{array}{c|c}
                    x \amp f(x) \\
                    \hline 
                    -1 \amp 1 \\
                    0\amp 1 \\
                    1 \amp 1\\
                    2 \amp 31
                    \end{array}
                </me>.
                This so far is not helpful to us, as all the values are positive. Let's try another negative value: 
                <me>
                    \begin{array}{c|c}
                    x \amp f(x) \\
                    \hline 
                    -2 \amp -29\\
                    -1 \amp 1 \\
                    0\amp 1 \\
                    1 \amp 1\\
                    2 \amp 31
                    \end{array}
                </me>.
                That's more like it! Since <m>f</m> is continuous on <m>[-2,-1]</m>, and since <me>-29=f(-2)&lt; 0 &lt; f(-1)=1</me>,
                the IVT now implies there is a <m>c\in (-2,-1)</m> such that <m>f(c)=0</m>. 
            </p>
            <p>
                Observe that this not only shows that <m>f</m> has a real root, it tells us further that there is a root lying between -2 and -1. Are there any other roots of this function? Further investigation is required. We will have the tools to answer this later. 
            </p>
        </solution>
    </example>
    <example xml:id="eg_ivt_trig">
        <title>Complicated equation</title>
        <statement>
            <p>
                Prove that the equation 
                <me>
                    \cos x=\frac{1}{\sqrt{x^2+4}}
                </me>
                has a solution.
            </p>
        </statement>
        <solution>
            <p>
                To get this problem into a state where we can apply the IVT, we rewrite the equation as 
                <me>
                    \cos x-\frac{1}{\sqrt{x^2+4}}=0
                </me>
                and define <m>f(x)=\cos x-\frac{1}{\sqrt{x^2+4}}</m>. Thus we are looking for a solution to <m>f(x)=0</m>. As with <xref ref="eg_ivt_poly"/>, this will boil down to finding inputs where <m>f</m> is positive and negative, respectively. Let's create a table of values for <m>f</m>: 
                <me>
                    \begin{array}{r|l}
                    x\amp f(x)\\
                    \hline
                    -\pi/2 \amp 0-\frac{1}{\sqrt{\pi^2/4+4}}=-\frac{1}{\sqrt{\pi^2/4+4}}\\
                    0   \amp 1-\frac{1}{\sqrt{4}}=\frac{1}{2}\\
                    \pi/2  \amp -\frac{1}{\sqrt{\pi^2/4+4}}
                    \end{array}
                </me>.
                We observe that 
                <me>
                    -\frac{1}{\sqrt{\pi^2/4+4}}=f(-\pi/2)&lt; 0&lt; f(0)=\frac{1}{2}  
                </me>.
                Since <m>f</m> is continuous on <m>[-\pi/2, 0]</m>, the IVT now implies there is an element <m>c\in (\pi/2, 0)</m> satisfying <m>f(c)=0</m>. Thus we have shown, not only that there is a solution, but one lying in this particular interval.
            </p>
            <p>
                Note that the same reasoning tells us there is another solution between <m>0</m> and <m>\pi/2</m>.  That is the inequality 
                <me>
                    f(0)&gt; 0 &gt; f(\pi/2)
                </me>
                implies there is another solution <m>d</m> lying between <m>0</m> and <m>\pi/2</m>. Thus, we are able to roughly locate two solutions to the original equation, using the IVT twice. 
            </p>
            <p>
                Note: since the given function happens to be <em>even</em> (<m>f(-x)=f(x)</m>), from our first solution <m>c</m> lying in <m>(-\pi/2, 0)</m> we obtain a second solution <m>-c</m> lying in <m>(0,\pi/2)</m>. 
            </p>

        </solution>
    </example>
    <p>
        Recall that the range of a function <m>f\colon D\rightarrow \R</m> is the set of all outputs of <m>f</m>: 
        <me>
            \range f=\{b \in \R\colon b=f(x) \text{ for some } x\in D\}=\{f(x)\colon x\in D\}
        </me>.
        The intermediate value theorem implies that if <m>f</m> is a continuous function and <m>D</m> is an interval, then given any two values <m>c&lt; d</m>, if <m>c,d\in \range f</m>, then <m>[c,d]\subseteq \range f</m>. This observation often allows us to explicitly compute the range of a continuous function.        
    </p>
    
</subsection>
    

</section>
