<section xml:id="sec_pdfuncsandabsval">
  <title>Piecewise-defined functions and absolute value</title>
    <objectives>
    <ul>
      <li>
        <p>
          Know the definition of piecewise-defined and absolute value functions
        </p>
      </li>
      <li>
        <p>
          Calculate values of piecewise-defined and absolute value functions
        </p>
      </li>
      <li>
        <p>
          Be able to graph piecewise-defined and absolute value functions
        </p>
      </li>
      <li>
        <p>
          See a few applications where piecewise-defined and absolute value functions are useful
        </p>
      </li>
    </ul>
    </objectives>
  <subsection>
    <title>Piecewise-defined functions</title>
    <p>
      So far, you have learned about the different types of algebraic functions.
      In this section we discuss functions that are NOT algebraic functions.
      Instead, they are pieced together by parts of algebraic functions.
    </p>
    <p>
      A piecewise-defined function is 
      is a function that is defined in multiple pieces,
      with different formulas or rules for different parts of its domain. The <em>sign function</em> defined below is a natural first example in light of our recent work with sign diagrams. 
    </p>
    <definition xml:id="d_sign">
    <title>Sign function</title>
    <notation>
      <usage><m>\operatorname{sign}</m></usage>
      <description>the sign function</description>
    </notation>
    <statement>
    <p>
    The <term>sign function</term>, <m>\sgn</m>, is the function <m>\sgn\colon \R\rightarrow \R</m> defined as 
    <men xml:id="eq_sign_func">
        \operatorname{sgn}(x) = \begin{cases}1, \amp \text{if } x&gt; 0\\ 0, \amp \text{if } x=0\\ -1, \amp \text{if } x&lt; 0. \end{cases}
    </men>
    In other words, <m>\sgn(x)</m> is 1 if <m>x</m> is positive, -1 if <m>x</m> is negative, and 0 otherwise. 
    </p>
    </statement>
    </definition>
    <p>
      The notation in <xref ref="eq_sign_func"/> is our way of presenting the different rules that apply to the different subsets of the domain. In general if the domain of our piecewise-defined functionis broken up into subsets <m>D_1, D_2,\dots,</m>, then the notation 
      <me>
        f(x)=\begin{cases}
        f_1(x)\amp \text{if } x\in D_1\\
        f_2(x)\amp \text{if } x\in D_2\\
        \vdots \\
        \end{cases}
      </me>
      is understood as defining <m>f</m> to be the function that follows the rule (or formula) <m>f_1</m> on the ``domain piece" <m>D_1</m>, <m>f_2</m> on the ``domain piece" <m>D_2</m>, <etc/>. In the case of the sign function, the three different rules are particular simple: namely, the function outputs 1, 0, or -1 depending on whether the input is positive, zero, or negative.
    </p>
    <p>
      Once you get used to the notation, you will see that working with piecewise-defined functions is done much the same as usual. However, because the a piecewise function is defined <em>in cases</em>, our computations involving these functions naturally break up into cases (or parts). 
    </p>
    <p>
      For example, when graphing the <m>\sgn</m> function, we effectively make three separate graphs over the separate pieces of the domain: we graph the constant function <m>f(x)=1</m> on <m>(0,\infty)</m>, we graph the function <m>f_2(x)=-1</m> on <m>(-\infty, 0)</m>, and we add the single point <m>(0,0)</m> to complete the graph. 
    </p>
    <figure xml:id="fig_signfunc">
      <caption>Graph of <m>y=\sgn(x)</m>.</caption>
      <image width="50%">
      <latex-image>
        \begin{tikzpicture}
          \begin{axis}[
              axis lines = middle,
              ymin=-1.5, ymax=1.5,
              xmin=-2.5, xmax=2.5,
              xtick={-2,-1,0,1,2},
              ytick={-1,-.5,.5,1},
              grid=both,
              width=6cm,
              height=5cm,
              domain=-5:5,
              samples=100
            ]
            \addplot[domain=-2.5:-.1, thick, blue,&lt;-] {-1};
            \addplot[domain=0.1:2.5, thick, blue,-&gt;] {1};
            \addplot[only marks, blue, mark=*, mark size=2pt] coordinates {(0,0)};
            \addplot[only marks, blue, mark=o, mark size=2pt] coordinates {(0,1)};
            \addplot[only marks, blue, mark=o, mark size=2pt] coordinates {(0,-1)};
          \end{axis}
        \end{tikzpicture}
      </latex-image>
    </image>
    </figure>
    <example>
      <statement>
        <p>
          Let <m>f</m> be the function defined piecewise by
          <me>
            f(x) = \begin{cases}x^2,\amp  \text{ if }  x\leq -1\\ 2x, \amp \text{ if } x>-1 \end{cases}
          </me>
        </p>
        <p>
          This means that if we want to plug in an <m>x</m>-value that is <m>-1</m> or less,
          we use the formula <m>x^2</m> in the first row.
          If we want to plug in an <m>x</m>-value that is greater than <m>-1</m>,
          we use the formula <m>2x</m>.
          So the domain for the function is still <m>(-\infty,\infty)</m>,
          but we use <m>x^2</m> on <m>(-\infty,-1]</m> and use <m>2x</m> on <m>(-1,\infty)</m>.
        </p>
        <p>
          If we want to find the value <m>f(-5)</m>,
          we observe that <m>x=-5\leq -1</m>,
          and so we use the formula <m>x^2</m> for this value of <m>x</m>:
          <me>
            f(-5) = (-5)^2 = 25
          </me>.
        </p>
        <p>
          If we want to find the value <m>f(3)</m>,
          we observe that <m>x=3>-1</m>,
          and so we use the formula <m>2x</m> for this value of <m>x</m>:
          <me>
            f(3) = 2(3) = 6
          </me>.
        </p>
        <p>
          If we want to find the value <m>f(-1)</m>,
          we observe that <m>x=-1\leq -1</m>,
          because of the equal sign,
          and so we once again use the formula <m>x^2</m> for this value of <m>x</m>:
          <me>
            f(-1) = (-1)^2 = 1
          </me>
        </p>
        <p>
          To graph <m>f</m>,
          we begin by graphing the functions <m>y=x^2</m> and <m>y=2x</m> that are used in the definition of <m>f</m>,
          as shown in <xref ref="fig_TaalmanPage46b" />:
        </p>
        <figure xml:id="fig_TaalmanPage46b-1">
          <caption>The graph of <m>y=x^2</m>.</caption>
          \begin{subfigure}[H]{0.4\textwidth}
          <image width="70%" source="TaalmanPage46b-1.png"/>
          \end{subfigure}
          \hspace{.5in}
          \begin{subfigure}[H]{0.4\textwidth}
          <image width="70%" source="TaalmanPage46b-2.png"/>
          \caption{The graph of <m>y=2x</m>.} \end{subfigure}
          \caption{The graphs of <m>y=x^2</m> and <m>y=2x</m>.}
        </figure>
        <p>
          To graph <m>f</m>, we use the graph of <m>y=x^2</m> on the interval
          <m>(-\infty,-1]</m> and use <m>y=2x</m> on <m>(-1,\infty)</m>.
          Whether these intervals are open or closed is important.
          To find <m>f(-1)</m> we used the
          <em>first</em> equation <m>y=x^2</m>:
          <m>f(-1)=(-1)^2 = 1</m>.
          Note that when we sketch the graph of <m>f</m> below,
          we use open and closed dots to represent the function values corresponding to the ends of open and closed intervals in the domain,
          respectively.
        </p>
        <figure xml:id="fig_TaalmanPage46c">
          <caption>The graph of <m>f(x)</m> uses <m>y=x^2</m> for <m>x\leq -1</m> and <m>y=2x</m> for <m>x>-1</m>.</caption>
          <image width="46%" source="TaalmanPage46c.png"/>
        </figure>
      </statement>
    </example>
    <exercise>
      <statement>
        <p>
          For the piecewise-defined function
          <me>
            f(x) = \begin{cases}3x+1, \amp \text{ if } x\leq 0\\ 4, \amp \text{ if } 0\lt x\leq 1\\ x^3, \amp \text{ if } x>1 \end{cases}
          </me>
          calculate <m>f(-1), f(0), f(1)</m>, and <m>f(2)</m>.
          Then sketch a graph of <m>f</m>.
        </p>
      </statement>
    </exercise>
  </subsection>
  <subsection>
    <title>An Application of Piecewise-defined Functions</title>
    <p>
      Piecewise-defined functions are useful for many real-word problems where the relationship between the quantities involved are different on different time-frames.
      For example, a person's salary changes when they get a raise,
      which changes the amount that they earn each year.
    </p>
    <example xml:id="ex_incomefunction">
      <statement>
        <p>
          Suppose that in your first job after graduating from college you make $36,000 a year before taxes.
          After four years you get a raise of $2,500.
          Two years after that you change jobs and go to work for a company that pays you $49,000 a year.
        </p>
        <p>
          We can construct a piecewise-defined function that describes your pretax income in the year that is <m>t</m> years after you graduate from college as follows.
          Note that this is just the function that describes your income rate per year at a time <m>t</m>
          (the units are dollars per year).
          <me>
            \text{ income } (t) = \begin{cases}36000,\amp  \text{ if } 0\leq t\lt 4\\ 38500,\amp  \text{ if } 4\leq t\lt 6\\ 49000,\amp  \text{ if } t\geq6 \end{cases}
          </me>
        </p>
        <p>
          What may be more interesting is to describe that amount that you will have <em>earned</em>
          <m>t</m> years after graduating from college.
          During the first four years, you make $36,000 per year,
          and so the amount that you earn after <m>t</m> years is <m>36000t</m>.
          After four years,
          you have already earned $<m>36,000\cdot 4 = 144,000</m>.
          Then for the next two years, you earn $38,500 per year,
          so your additional income for
          <m>4\leq t\lt 6</m> is given by <m>38500(t-4)</m>
          (because we have to measure in years
          <em>since</em> <m>t=4</m>).
          Thus overall for <m>4\leq t\lt 6</m>,
          you have earned <m>144000+38500(t-4)</m> by time <m>t</m>.
          Lastly, after 6 years you have earned $<m>36,000\cdot 4+38,500\cdot2 = 221,000</m>,
          and for each additional year you earn $49,000,
          so by time <m>t</m> you have earned <m>21000+4900(t-6)</m> when <m>t\geq 6</m>.
        </p>
        <p>
          Summarizing this, the function for total <em>earnings</em>
          at time <m>t</m> years since graduation is
          <me>
            \text{ earnings } (t) = \begin{cases}36000t,\amp  \text{ if } 0\leq t\lt 4\\ 144000+38500(t-4),\amp  \text{ if } 4\leq t\lt 6\\ 221000+49000(t-6),\amp  \text{ if } t\geq 6 \end{cases}
          </me>
        </p>
        <p>
          If you continue at that pay rate,
          how long will it have taken you to earn a million dollars?
          Well, we know we did not make that much by <m>t=6</m>,
          so we use the equation for <m>t\geq 6</m> and solve for <m>t</m>:
          <me>
            \begin{aligned}221000+49000(t-6) \amp = 1000000\\ 49000(t-6) \amp = 779000\\ t-6 \amp = \frac{779000}{49000}\approx 15.8980\\ t \amp \approx 21.8980 \end{aligned}
          </me>
        </p>
        <p>
          So in your 22nd year after graduating you will have earned one million pretax dollars.
        </p>
      </statement>
    </example>
    <exercise>
      <statement>
        <p>
          How much will you have earned five years after graduating,
          according to the model described in Example <xref ref="ex_incomefunction" />?
          What is your salary in that year?
        </p>
      </statement>
    </exercise>
    <example>
      <statement>
        <p>
          For another example,
          suppose a doctor charges a different amount of money based on the length of the appointment.<fn>
          Example from
          <url href="https://www.mathsisfun.com/sets/functions-piecewise.html">https://www.mathsisfun.com/sets/functions-piecewise.html</url>,
          accessed Sept 15, 2022.
          </fn>
          <ul>
            <li>
              <p>
                Up to 6 minutes costs $50
              </p>
            </li>
            <li>
              <p>
                Over 6 and up to 15 minutes costs $80
              </p>
            </li>
            <li>
              <p>
                Over 15 minutes costs $80 plus $5 per minute above 15 minutes
              </p>
            </li>
          </ul>
        </p>
        <p>
          We can write the price <m>p</m> of an office visit like this:
          <me>
            p(t) = \begin{cases}50, \amp \text{ if } t\leq 6\\ 80, \amp  \text{ if } 6\lt t\leq 15\\ 80+5(t-15), \amp  \text{ if } t>15 \end{cases}
          </me>
        </p>
      </statement>
    </example>
  </subsection>
  <subsection>
    <title>Absolute value and distance</title>
    <p>
      For the rest of the section we will focus on one specific example of a piecewise-defined function that plays an essential role in calculus: the <em>absolute value function</em> <m>f(x)=\abs{x}</m>. What makes this function so valuable to us, is that it introduces a quantitative notion of <em>distance</em> to points on the real number line. Indeed, our first definition of the absolute value will be expressed entirely in these geometric terms. 
      <definition xml:id="d_absolute_value_geometric">
      <title>Absolute value (geometric)</title>
      <statement>
      <p>
      Given a real number <m>x\in \R</m> we define its <term>absolute value</term> to be the its distance from 0 on the number line. In more detail, <m>\abs{x}</m> is the length of the line segment between <m>0</m> and <m>x</m>. 
      </p>
      </statement>
      </definition>
      The diagram in <xref ref="fig_abs_num_line"/> illustrates how we compute <m>\abs{x}</m> using our geometric definition in terms of distance. From the indicated distances there, we see that 
      <md>
        <mrow>\abs{-2} \amp =\abs{2}=2</mrow>
        <mrow>\abs{-5} \amp =5</mrow>
      </md>.
      Furthermore, since the distance between the point <m>0</m> and itself is <m>0</m>, we see that <m>\abs{0}=0</m>. 
    </p>
    <figure xml:id="fig_abs_num_line">
        <caption>Understanding <m>\abs{x}</m> in terms of distance</caption>
      <image width="70%">
        <shortdescription>Number line diagram for absolute value</shortdescription>
        <latex-image>
\begin{tikzpicture}
% Draw number line
\draw[thick] (-6,0) -- (3,0);

% Points
\foreach \x in {-5,-2,0,2}
\draw[fill=blue] (\x,0) circle (3pt) node[below=4pt] {$\x$};

% Upper curly braces (curve upward)
\begin{scope}[decoration={calligraphic brace, amplitude=6pt}, thick]
\draw[decorate] (-2,0.4) -- node[above=6pt] {$d=2$} (0,0.4);
\draw[decorate] (0,0.4) -- node[above=6pt] {$d=2$} (2,0.4);
\end{scope}

% Higher curly brace (curve upward, use mirror to curve downward)
\begin{scope}[decoration={calligraphic brace, amplitude=6pt}, thick]
\draw[decorate] (-5,1.2) -- node[above=6pt] {$d=5$} (0,1.2);
\end{scope}
\end{tikzpicture}
        </latex-image>
      </image>
    </figure>
  <p>
    Exploring our geometric definition further, we see that for any positive number <m>a</m>, we have 
    <me>
      \abs{a}=\abs{-a}=a
    </me>.
    This is because both points <m>a</m> and <m>-a</m> are a distance of <m>a</m> from the point <m>0</m>. 
  </p>
  <image width="60%">
    <shortdescription>Absolute value of a positive number and its minus</shortdescription>
    <latex-image>
     \begin{tikzpicture}
  % Draw number line
  \draw[thick] (-3,0) -- (3,0);

  % Points
  \foreach \x/\y in {-2/{-a},0/0,2/a}
    \draw[fill=blue] (\x,0) circle (3pt) node[below=4pt] {$\y$};

  % Upper curly braces (curve upward)
  \begin{scope}[decoration={calligraphic brace, amplitude=6pt}, thick]
    \draw[decorate] (-2,0.4) -- node[above=6pt] {$d=a$} (0,0.4);
    \draw[decorate] (0,0.4) -- node[above=6pt] {$d=a$} (2,0.4);
  \end{scope}

\end{tikzpicture}

    </latex-image>
  </image>
<p>
  Put another way, given any real number <m>x</m>, to specify its location on the number line, we need <em>two</em> pieces of information: 
  <ol>
    <li>
      <p>
        whether <m>x</m> lies to the <em>left</em> or <em>right</em> of <m>0</m>;
      </p>
    </li>
    <li>
      <p>
        the distance from <m>x</m> to <m>0</m>.
      </p>
    </li>
  </ol>
  The first piece of information is given by the <em>sign</em> of <m>x</m>: that is, <m>x</m> lies to the left of <m>0</m> if and only if <m>x&lt; 0</m>, and to the right if and only if <m>x&gt; 0</m>. The second piece of information is given by the absolute value <m>\abs{x}</m>. In this light, you can think of the absolute value function as ignoring the sign of a number and just returning its distance to zero. This is another explanation of why <m>\abs{a}=\abs{-a}</m>. 
</p>
 <remark xml:id="rm_greater_less_large">
            <title>Large and small, greater than and less than</title>
            <p>
                The foregoing discussion brings to light some linguistic subtleties surrounding mathematical notions like  the <m>&lt;</m> relation, the <m>&gt;</m> relation, and the absolute value <m>\abs{x}</m>. 
            </p>
            <p>
              Namely, although the two relations <m>&lt;</m> and <m>&gt;</m> are translated into English as <q>less than</q> and <q>greater than</q>, a statement like <m>x&lt; y</m> is not an indication of the relative <em>size</em> (or <em>magnitude</em>) of <m>x</m> and <m>y</m>, but rather their relative <em>position</em> on the real number line! In this sense, the correct geometric way to think of the statement <m>x&lt; y</m> is as follows: 
              <md>
                <mrow>x&lt; y \amp \iff x \text{ lies to the left  of } y \text{ on the number line} </mrow>
                <mrow> \amp \iff  y \text{ lies to the right  of } y \text{ on the number line} </mrow>
              </md>.
            By contrast, the <em>size</em> of a number <m>x</m> is measured by its absolute value <m>\abs{x}</m>. Moreover, to say one number is <em>smaller</em> or <em>larger</em> than another is to say its absolute value is less than or greater than the other number's absolute value: <ie/>, we have 
            <md>
              <mrow>\abs{x}&lt; \abs{y} \amp \iff x \text{ is smaller than } y</mrow>
              <mrow> \amp \iff y \text{ is larger than } x</mrow>
            </md>.
            As a result, the <em>sign</em> of a number has nothing to do with its size! To illustrate this, note that the three sequences of numbers below are all examples where the terms are getting arbitrarily large:
            <md>
              <mrow>1, \amp 10, 100, 1000, 10000,\dots </mrow>
              <mrow>-1, \amp -10, -100, -1000, -10000,\dots</mrow>
              <mrow>1, \amp -10, 100, -1000,10000,\dots </mrow>
            </md>. 
                In more detail we say that the first is a sequence of positive numbers that get arbitrarily large, the second a sequence of negative numbers that get arbitrarily large and negative, and the third a sequence of numbers of alternating sign that get arbitrarily large. 
                </p>
        </remark>
        <p>
          Our geometric definition of the absolute value function in terms of distance will be very important for conceptualizing calculus notions like limits, continuity, and derivatives. However, for computaitonal purposes it is convenient to have a more algebraic definition of the absolute value. Here the notion of a piecewise-defined function comes to our aid. 
        </p>
    <definition xml:id="d_absval">
      <title>Absolute value (piecewise)</title>
      <statement>
        <p>
         Given a real number <m>x</m>, we definte its <term>absolute value</term> <m>\abs{x}</m> as follows:
         <men xml:id="eq_abs_val">
          \abs{x}=\begin{cases}
          x\amp \text{if } x\geq 0\\
          -x\amp \text{if } x&lt; 0
          \end{cases}
         </men>.
         The function <m>f\colon \R\rightarrow \R</m> defined as <m>f(x)=\abs{x}</m> is called the <term>absolute value function</term>. 
        </p>
      </statement>
    </definition>
    <p>
      Let's see how <xref ref="d_absolute_value"/> agrees with our previous geometric definition of the absolute value.
    </p>
    <example xml:id="eg_abs_value">
    <title>Absolute value (piecewise)</title>
    <statement>
    <p>
    Use <xref ref="d_absolute_value"/> to compute the following. 
    <ol>
      <li>
        <p>
          <m>\abs{2}</m>
        </p>
      </li>
      <li>
        <p>
          <m>\abs{-2}</m>
        </p>
      </li>
      <li>
        <p>
          <m>\abs{-5}</m>
        </p>
      </li>
      <li>
        <p>
          <m>\abs{0}</m>
        </p>
      </li>
    </ol>
    </p>
    </statement>
    <solution>
    <p>
    <ol>
      <li>
        <p>
          Since <m>2\geq 0</m>, we use the first case in <xref ref="eq_abs_val"/> to compute <m>\abs{2}</m>:
          <md>
            <mrow>\abs{2} \amp =2 \amp (\text{since } 2\geq 0)</mrow>
          </md>.
        </p>
      </li>
      <li>
        <p>
          Since <m>-2&lt; 0</m>, we use the second case in <xref ref="eq_abs_val"/> to compute <m>\abs{-2}</m>:
          <md>
            <mrow>\abs{-2} \amp = -(-2) \amp (\text{since } -2&lt; 0)</mrow>
            <mrow> \amp =2</mrow>
          </md>.
          This example illustrates how, despite the <m>-x</m> appearing in the formula for the second case of <xref ref="d_absolute_value"/>, the output of the absolute value function is always nonnegative. 
        </p>
      </li>
      <li>
        <p>
          Similarly, since <m>-5&lt; 0</m>, we use the second case in <xref ref="eq_abs_val"/> to compute <m>\abs{-5}</m>:
          <md>
           <mrow>\abs{-5} \amp = -(-5) \amp (\text{since } -5&lt; 0)</mrow>
            <mrow> \amp =5</mrow>
          </md>.
        </p>
      </li>
      <li>
        <p>
          Lastly, the first case of the definition applies to <m>x=0</m>, allowing us to compute <m>\abs{0}=0</m>. 
        </p>
      </li>
    </ol>
    </p>
    </solution>
    </example>
    <remark>
      <title>Absolute value (piecewise)</title>
      <p>
        As the last example illustrates, despite the <m>-x</m> formula appearing in the second case of the piecewise definition of <m>\abs{x}</m>, the output is always nonnegative. This is because the second case only applies if the the input <m>x</m> is itself <em>negative</em>, in which case the output <m>-x</m> is <em>positive</em>!
      </p>
    </remark>
    
    <p>
      You may remember that we gave a different definition for the distance between two real numbers in <xref ref="d_distwithsquareroot">Definition</xref>.
      These two definitions are the same,
      because of the following alternate definition of the absolute value function:
    </p>
    <definition xml:id="d_altdefabsval">
      <title>Alternate Definition of Absolute Value</title>
      <statement>
        <p>
          For any real number <m>x</m>,
          <me>
            |x| = \sqrt{x^2}
          </me>
        </p>
      </statement>
    </definition>
    <p>
      When <m>x</m> is positive,
      the square root of <m>x^2</m> returns us to the original <m>x</m>-value.
      When <m>x</m> is negative,
      <m>x^2</m> is positive and the square root denotes only the
      <em>positive</em> square root,
      so the square root of <m>x^2</m> will give us
      <m>|x| = -(x)</m>. (Remember, if <m>x</m> is negative,
      <m>-x</m> is positive!) So this different definition is exactly the same as <xref ref="d_absval" />, just stated in a different way.
    </p>
    <p>
      This idea can help us in solving the following types of common equations:
    </p>
    <example>
      <statement>
        <p>
          Find the solution of <m>x^2=25</m>.
        </p>
      </statement>
      <solution>
        <p>
          If we take the square root of both sides, we have
          <me>
            \begin{aligned}x^2 \amp = 25\\ \sqrt{x^2} \amp =\sqrt{25}\\ |x| \amp = 5\\ x \amp =\pm 5 \end{aligned}
          </me>
        </p>
        <p>
          The <m>\pm</m> comes from the following logic:
          if the magnitude of <m>x</m> is 5, <m>x</m> is 5 units away from 0 on the number line to either the right or the left.
          So <m>x</m> could be either positive or negative 5 units from 0, meaning that <m>x=5, -5</m>.
        </p>
        <p>
          Alternately, we could solve via factoring.
          Approached in this way, we have
          <me>
            \begin{aligned}x^2 \amp = 25\\ x^2-25 \amp = 0\\ (x-5)(x+5) \amp =0\\ x-5 = 0 \amp  \text{ or }  \amp  x+5 = 0\\ x \amp = 5, -5 \end{aligned}
          </me>
        </p>
        <p>
          Thus using either method,
          we can see that both <m>x=-5</m> and <m>x=5</m> are solutions to the equation <m>x^2=25</m>.
          Verify this by plugging in both numbers!
        </p>
        <p>
          <em>Important!</em> It is very common for students to forget to include the <m>\pm</m> when taking the square root of a square.
          The main lesson to be learned from this example is that equations <m>x^2 = r^2</m> have <em>two</em>
          solutions: <m>x=\pm r</m>.
        </p>
      </solution>
    </example>
    <p>
      Let's reconcile the two definitions for the distance between real numbers.
      Definition <xref ref="d_distwithsquareroot" /> tell us that
      <me>
        \text{ dist } (a,b) = \sqrt{(b-a)^2}
      </me>
      while Definition <xref ref="d_distwithabsvals" /> combined with Definition <xref ref="d_altdefabsval" /> tells us that
      <me>
        \text{ dist } (a,b) = |b-a| = \sqrt{(b-a)^2}
      </me>.
      Hooray!
      The two definitions agree.
    </p>
    <exercise>
      <statement>
        <p>
          Which definition of distance do you prefer?
          <m>\text{ dist } (a,b) = \sqrt{(b-a)^2}</m> or <m>\text{ dist } (a,b) = |b-a|</m>?
          Why?
          <em>You can use either one.
          As we showed, they agree with each other.</em>
        </p>
      </statement>
    </exercise>
  </subsection>
  <subsection>
    <title>Graphs of Absolute Values</title>
    <p>
      The graph of <m>y=|x|</m> is a combination of the graph of <m>y=x</m> on
      <m>[0,\infty)</m> and the graph of <m>y=-x</m> on <m>(-\infty,0)</m>:
    </p>
    <figure xml:id="fig_absval">
      <caption>The graph of <m>y=|x|</m>.</caption>
      <image width="46%" source="TaalmanPage55a.png"/>
    </figure>
    <p>
      Of course, in general we might wish to take the absolute value of a more complicated expression.
      In the more general case, we do exactly the same thing:
      the absolute value will leave positive quantities untouched,
      but flip the sign of negative quantities.
    </p>
    <definition>
      <title>The Absolute Value of a Function</title>
      <statement>
        <p>
          The <em>absolute value of a function</em> <m>g(x)</m> is
          <me>
            |g(x)| = \begin{cases}g(x), \amp \text{ for all } x\text{ with } g(x)\geq 0\\ -g(x),\amp \text{ for all } x\text{ with } g(x)\lt  0 \end{cases}
          </me>
        </p>
      </statement>
    </definition>
    <example>
      <statement>
        <p>
          For example, consider the function
          <m>g(x) = 2x-1</m> and its absolute value <m>f(x) = |g(x)| = |2x-1|</m>.
          When <m>2x-1</m> is positive or zero
          (meaning when <m>x\geq 1/2</m>),
          the absolute value remains <m>2x-1</m>.
          But when <m>2x-1</m> is negative
          (meaning when <m>x\lt 1/2</m>)
          the absolute value of <m>g</m> is <m>-(2x-1)</m>.
          The graph of <m>y=|2x-1|</m> is a combination of the graphs of <m>y=2x-1</m> and <m>y=-(2x-1)</m>,
          switching between graphs at <m>x=1/2</m> as shown in <xref ref="fig_TaalmanPage55b" />.
        </p>
        <figure xml:id="fig_TaalmanPage55b-1">
          <caption>The graph of <m>y=2x-1</m>.</caption>
          \begin{subfigure}[H]{0.4\textwidth}
          <image width="80%" source="TaalmanPage55b-1.png"/>
          \end{subfigure}
          \hspace{.25in}
          \begin{subfigure}[H]{0.4\textwidth}
          <image width="80%" source="TaalmanPage55b-2.png"/>
          \caption{The graph of <m>y=-(2x-1)</m>.} \end{subfigure}
          \hspace{.25in}
          \begin{subfigure}[H]{0.4\textwidth}
          <image width="80%" source="TaalmanPage55b-3.png"/>
          \caption{The graph of <m>y=|2x-1|</m>.} \end{subfigure}
          \caption{The graphs of <m>y=2x-1</m>,  <m>y=-(2x-1)</m>, and <m>y=|2x-1|</m>.}
        </figure>
      </statement>
    </example>
    <p>
      Try applying the absolute value to a function in Exercise <xref ref="ex_TaalmanSec0_5Ex4" />:
    </p>
    <exercise xml:id="ex_TaalmanSec0_5Ex4">
      <statement>
        <p>
          For <m>f(x) = |x^2-1|</m>, calculate <m>f(-2), f(0)</m>,
          and <m>f(1)</m>.
        </p>
      </statement>
    </exercise>
    <example>
      <statement>
        <p>
          Let's write <m>f(x) = |x^2-1|</m> from <xref ref="ex_TaalmanSec0_5Ex4">Exercise</xref>
          as a piecewise-defined function and then graph it.
        </p>
        <p>
          When <m>x^2-1</m> is positive or zero,
          its absolute value will remain <m>x^2-1</m>.
          When <m>x^2-1</m> is negative,
          its absolute value will be <m>-(x^2-1)</m>.
          Therefore we have
          <me>
            f(x) = |x^2-1| = \begin{cases}x^2-1, \amp  \text{ for all } x\text{ with } x^2-1\geq 0\\ -(x^2-1), \amp  \text{ for all } x\text{ with } x^2-1\lt  0 \end{cases}
          </me>
        </p>
        <p>
          Although this is one way to write <m>|x^2-1|</m> as a piecewise-defined function,
          it is difficult to work with.
          For example,
          to evaluate <m>f(-2)</m> we would need to know whether
          <m>x^2-1\geq 0</m> or <m>x^2-1\lt 0</m> when <m>x=-2</m>.
          To simplify this piecewise-defined function,
          we need to rewrite the conditions as intervals of <m>x</m>-values.
        </p>
        <p>
          Here is the graph of <m>y=x^2-1</m>.
          We will use it to determine where
          <m>x^2-1\geq 0</m> and <m>x^2-1\lt 0</m>:
        </p>
        <figure xml:id="fig_xquaredminusonegraph">
          <caption>The graph of <m>y=x^2-1</m>.</caption>
          <image width="46%" source="xquaredminusonegraph.png"/>
        </figure>
        <p>
          So we see that <m>x^2-1\geq 0</m> for <m>x\leq -1</m> and <m>x\geq 1</m>,
          and that <m>x^2-1\lt 0</m> for <m>-1\lt x\lt 1</m>.
          Rewriting the piecewise-defined function in terms of these intervals:
        </p>
        <p>
          Thus we have
          <me>
            f(x) = |x^2-1| = \begin{cases}x^2-1, \amp  \text{ if }  x\leq -1\\ -(x^2-1), \amp   \text{ if }  -1\lt x\lt 1\\ x^2-1, \amp  \text{ if }  x\geq 1 \end{cases}
          </me>
        </p>
        <p>
          You should take a moment to use this formula to check your answers to <xref ref="ex_TaalmanSec0_5Ex4">Exercise</xref>.
        </p>
        <p>
          <xref ref="fig_TaalmanPage59" /> contains the graph of <m>y=|x^2-1|</m>.
          Note that the graph of <m>y=|x^2-1|</m> is the same as the graph of <m>y=x^2-1</m> on the intervals
          <m>(-\infty,-1]</m> and <m>[1,\infty)</m>.
          On the interval <m>(-1,1)</m> where <m>x^2-1</m> was negative,
          the graph must be reflected above the <m>x</m>-axis to make the values positive when applying the absolute value.
        </p>
        <figure xml:id="fig_TaalmanPage59">
          <caption>The graph of <m>y=|x^2-1|</m> is found by reflecting the negative parts of the graph of <m>y=x^2-1</m> up above the <m>x</m>-axis.</caption>
          <image width="37%" source="TaalmanPage59.png"/>
        </figure>
      </statement>
    </example>
    <exercise>
      <statement>
        <p>
          For the graph <m>y=f(x)</m> shown below,
          sketch the graph of <m>y=|f(x)|</m> by reflecting the parts of the graph with negative values over the <m>x</m>-axis.
        </p>
        <figure xml:id="fig_TaalmanPage59X">
          <caption>The graph of <m>y=f(x)</m>.</caption>
          <image width="37%" source="TaalmanPage60.png"/>
        </figure>
      </statement>
    </exercise>
  </subsection>
  <subsection>
    <title>Summary</title>
    <p>
      The following terms were introduced in this section:
    </p>
    piecewise-defined function, absolute value, distance between real numbers (again)
    <p>
      <em>Key ideas:</em> Piecewise-defined functions are not algebraic functions.
      They use different formulas on different intervals and their graphs are found by piecing together the graphs of the different formulas.
      Absolute value is an example of a piecewise-defined function and can be used to find distance.
      The graph of the absolute value of a function reflects the negative parts of the graph of the original function up over the horizontal axis.
    </p>
    <p>
      <em>Other ideas introduced:</em>
      It would be great to have an algebraic way to determine when an expression is positive and negative,
      so we don't have to use a graph to find the absolute value of a function.
    </p>
    <p>
      \fbox{\fbox{ End of Section 1.7}}
    </p>
    <p>
      \rule{1.1\textwidth}{2pt}
    </p>
  </subsection>
</section>